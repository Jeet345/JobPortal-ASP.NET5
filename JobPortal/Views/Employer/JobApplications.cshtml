@model IEnumerable<JobPortal.Models.JobApplication>

@{
    ViewData["Title"] = "Manage Jobs";
    Layout = null;
}

<div class="manage-job-box">

    <h3 class="heading" data-jobId="@Model.First().Job.Id">
        <span class="back-btn">back</span>
        Manage Jobs &nbsp; > &nbsp;
        @if (Model.Count() > 0)
        {
            @Model.First().Job.JobTitle
        }

    </h3>

    @if (Model.Count() > 0)
    {
        <table>
            <thead>
                <tr>
                    <td></td>
                    <td>Name</td>
                    <td>Email</td>
                    <td>City</td>
                    <td>Gender</td>
                    <td>Age</td>
                    <td>WorkStatus</td>
                    <td>Status</td>
                </tr>
            </thead>
            <tbody>

                @foreach (var item in Model)
                {
                <tr>
                    <td>
                        <div class="action-btn">
                            <a class="hire-btn" data-appId="@item.Id"><i class="fas fa-check"></i></a>
                            <a class="reject-btn" data-appId="@item.Id"><i class="fas fa-times"></i></a>
                        </div>
                    </td>
                    <td>
                        <a href="/Employer/JobDetail/@item.JobSeeker.Id" class="title">@item.JobSeeker.Name</a>
                    </td>
                    <td>@item.JobSeeker.Email</td>
                    <td>@item.JobSeeker.City</td>
                    <td>@item.JobSeeker.Gender</td>
                    <td>
                        @{
                            DateTime dob = item.JobSeeker.Dob.GetValueOrDefault();
                            int age = DateTime.Now.Subtract(dob).Days;
                            age = age / 365;
                            @age;
                        }
                    </td>

                    <td>@item.JobSeeker.WorkStatus</td>

                    @if (item.Status == 1)
                    {
                        <td class="active" style="color: #F7D100" >Pending</td>
                    }
                    else if(item.Status == 2)
                    {
                        <td class="active">Hiring</td>
                    }
                    else
                    {
                        <td class="inactive">Reject</td>
                    }

                </tr>

                }

            </tbody>
        </table>
    }
    else
    {
        <h3 style="text-align:center; margin-top: 30px">Job Applications Not Available.</h3>
    }

</div>
